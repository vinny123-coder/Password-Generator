<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Password Generator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input, button { padding: 5px 10px; margin: 5px; }
    .password { margin: 3px 0; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Password Generator</h1>

  <label for="count">Number of passwords:</label>
  <input type="number" id="count" min="1" value="5">

  <button onclick="generatePasswords()">Generate</button>
  <button onclick="copyPasswords()">Copy All</button>

  <div id="results"></div>

  <script>
    function generatePassword() {
      const upper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      const lower = "abcdefghijklmnopqrstuvwxyz";
      const numbers = "0123456789";
      const special = "@!*";

      // Start with one of each required type
      let password = "";
      password += upper[Math.floor(Math.random() * upper.length)];
      password += lower[Math.floor(Math.random() * lower.length)];
      password += numbers[Math.floor(Math.random() * numbers.length)];
      password += special[Math.floor(Math.random() * special.length)];

      const allChars = upper + lower + numbers + special;

      // Fill remaining characters to reach 8
      while (password.length < 8) {
        password += allChars[Math.floor(Math.random() * allChars.length)];
      }

      // Shuffle to randomize positions
      password = password.split("").sort(() => Math.random() - 0.5).join("");

      return password;
    }

    function generatePasswords() {
      const count = parseInt(document.getElementById("count").value);
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      for (let i = 0; i < count; i++) {
        const pass = generatePassword();
        const div = document.createElement("div");
        div.className = "password";
        div.textContent = pass;
        resultsDiv.appendChild(div);
      }
    }

    function copyPasswords() {
      const resultsDiv = document.getElementById("results");
      const passwords = Array.from(resultsDiv.querySelectorAll(".password"))
                             .map(div => div.textContent)
                             .join("\n");

      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(passwords)
          .then(() => alert("Passwords copied!"))
          .catch(err => alert("Failed to copy: " + err));
      } else {
        prompt("Copy the passwords below:", passwords);
      }
    }
  </script>
</body>
</html>
